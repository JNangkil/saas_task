# Tasks: Add Analytics & Reporting

## 1. Metrics Service

- [ ] 1.1 Create AnalyticsService
- [ ] 1.2 Implement task count aggregations
- [ ] 1.3 Implement completion rate calculations
- [ ] 1.4 Implement average cycle time
- [ ] 1.5 Add caching layer for heavy queries

## 2. Analytics API

- [ ] 2.1 GET /api/workspaces/{workspace}/analytics/summary
- [ ] 2.2 GET /api/boards/{board}/analytics/summary
- [ ] 2.3 GET /api/workspaces/{workspace}/analytics/user-productivity
- [ ] 2.4 GET /api/workspaces/{workspace}/analytics/trends
- [ ] 2.5 Add date range filtering

## 3. Export Endpoints

- [ ] 3.1 GET /api/workspaces/{workspace}/analytics/export/csv
- [ ] 3.2 GET /api/workspaces/{workspace}/analytics/export/pdf
- [ ] 3.3 Implement CSV generation
- [ ] 3.4 Implement PDF generation
- [ ] 3.5 Secure download URLs

## 4. Angular Analytics Service

- [ ] 4.1 Create AnalyticsService
- [ ] 4.2 Fetch summary data
- [ ] 4.3 Fetch productivity data
- [ ] 4.4 Handle date range params

## 5. Workspace Dashboard

- [ ] 5.1 Create WorkspaceDashboardComponent
- [ ] 5.2 Summary cards (total, completed, overdue)
- [ ] 5.3 Tasks by status chart (pie/donut)
- [ ] 5.4 Activity trend chart (line)
- [ ] 5.5 User productivity table

## 6. Board Mini Dashboard

- [ ] 6.1 Create BoardStatsComponent
- [ ] 6.2 Show in board header
- [ ] 6.3 Display key metrics

## 7. Chart Components

- [ ] 7.1 Integrate chart library
- [ ] 7.2 Create pie chart component
- [ ] 7.3 Create line chart component
- [ ] 7.4 Create bar chart component

## 8. Filters & Date Range

- [ ] 8.1 Date range picker component
- [ ] 8.2 Assignee filter dropdown
- [ ] 8.3 Board filter dropdown
- [ ] 8.4 Apply filters to queries

## 9. Export UI

- [ ] 9.1 Export buttons in dashboard
- [ ] 9.2 CSV download handling
- [ ] 9.3 PDF download handling

## 10. Testing

- [ ] 10.1 PHPUnit tests for metrics
- [ ] 10.2 Angular component tests
