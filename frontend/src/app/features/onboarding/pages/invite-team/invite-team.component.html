<section class="invite-card card">
  <header>
    <p class="eyebrow">Step 3 of 4</p>
    <h2>Invite your teammates</h2>
    <p>Send invites now or skip and add collaborators later.</p>
  </header>

  <form [formGroup]="form" (ngSubmit)="continue()" novalidate>
    <div formArrayName="invites" class="invite-list">
      <div
        *ngFor="let control of invites.controls; let index = index; trackBy: trackInvite"
        class="invite-row"
      >
        <label class="sr-only" [attr.for]="'invite-' + index">Teammate email {{ index + 1 }}</label>
        <input
          [id]="'invite-' + index"
          type="email"
          [formControlName]="index"
          placeholder="teammate@company.com"
          [class.invalid]="control.invalid && control.touched"
        />
        <button
          type="button"
          class="remove"
          (click)="removeInvite(index)"
          [attr.aria-label]="'Remove invite ' + (index + 1)"
        >
          Remove
        </button>
        <p class="field-error" *ngIf="control.hasError('email') && control.touched">
          Enter a valid email address.
        </p>
      </div>
    </div>

    <button type="button" class="add-invite" (click)="addInvite()">+ Add another teammate</button>

    <footer class="actions">
      <button type="button" class="link" (click)="back()">Back</button>
      <div class="cta-group">
        <button type="button" class="ghost" (click)="skip()">Skip for now</button>
        <button type="submit">Continue</button>
      </div>
    </footer>
  </form>
</section>
