<section class="workspace-billing">
  <header class="workspace-billing__header">
    <h1>Billing &amp; plans</h1>
    <p>Track the plan, invoices, and payment method for the selected workspace.</p>
  </header>

  <ng-container *ngIf="activeWorkspace(); else noWorkspace">
    <tf-workspace-billing-summary
      class="workspace-billing__summary"
      [summary]="billingSummary()"
    ></tf-workspace-billing-summary>

    <section class="workspace-billing__invoices">
      <h2>Invoices</h2>
      <table>
        <thead>
          <tr>
            <th scope="col">Invoice</th>
            <th scope="col">Period</th>
            <th scope="col">Amount</th>
            <th scope="col">Status</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let invoice of upcomingInvoices">
            <td>{{ invoice.id }}</td>
            <td>{{ invoice.billingPeriod }}</td>
            <td>{{ invoice.amount }}</td>
            <td>
              <span
                class="workspace-billing__badge"
                [class.workspace-billing__badge--due]="invoice.status === 'due'"
              >
                {{ invoice.status === 'due' ? 'Payment due' : 'Paid' }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </section>

    <section class="workspace-billing__actions">
      <h2>Next steps</h2>
      <ul>
        <li>Review seat usage and archive inactive members before the next billing cycle.</li>
        <li>Export invoice history if finance needs a CSV for reconciliation.</li>
        <li>Update the default payment method to a shared card to avoid declines.</li>
      </ul>
    </section>
  </ng-container>

  <ng-template #noWorkspace>
    <section class="workspace-billing__empty">
      <h2>No workspace selected</h2>
      <p>Select a workspace from the sidebar to view billing details.</p>
    </section>
  </ng-template>
</section>
