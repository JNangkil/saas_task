<nav class="sidebar">
  <div class="sidebar__brand">
    <div class="sidebar__brand-mark">TF</div>
    <div class="sidebar__brand-copy">
      <span class="sidebar__brand-name">TaskFlow</span>
      <span class="sidebar__brand-plan">Growth Workspace</span>
    </div>
  </div>

  <div class="sidebar__user" *ngIf="user$ | async as user">
    <tf-avatar class="sidebar__avatar" [name]="user.displayName || user.email"></tf-avatar>
    <div class="sidebar__user-meta">
      <span class="sidebar__user-name">{{ user.displayName || user.email }}</span>
      <span class="sidebar__user-role">{{ user.roles[0] || 'Member' }}</span>
    </div>
  </div>

  <section *ngFor="let group of navGroups()" class="sidebar__section">
    <h2 class="sidebar__section-title">{{ group.label }}</h2>

    <ul class="sidebar__nav">
      <li *ngFor="let item of group.items">
        <a
          [routerLink]="item.route"
          routerLinkActive="is-active"
          class="sidebar__nav-link"
        >
          <span class="sidebar__nav-icon" aria-hidden="true">{{ item.icon }}</span>
          <span class="sidebar__nav-label">{{ item.label }}</span>
          <tf-badge *ngIf="item.badge" tone="warning" [label]="item.badge"></tf-badge>
        </a>
      </li>
    </ul>
  </section>
</nav>
